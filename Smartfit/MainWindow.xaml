<Window x:Class="SmartFit.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf" 
        xmlns:local="clr-namespace:SmartFit"
        mc:Ignorable="d"
        x:Name="mainwindow"  Title="" Height="900" Width="1250"
        WindowStyle="None" AllowsTransparency="False"
        ResizeMode="CanResize" WindowStartupLocation="CenterScreen"
        Padding="2,0,2,4" Background="Transparent" 
    xmlns:theme="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero2" MinWidth="1170" MinHeight="900" KeyDown="mainwindow_KeyDown">

    <Window.Resources>
        <ResourceDictionary>
            <Style x:Key="ScrollThumbs" TargetType="{x:Type Thumb}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Grid x:Name="Grid">
                                <Rectangle HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" 
                                           Height="Auto" Fill="Transparent"/>
                                <Border x:Name="Rectangle1" CornerRadius="10 0 0 10" HorizontalAlignment="Stretch" 
                                        VerticalAlignment="Stretch" Width="Auto" Height="Auto" 
                                        Background="{TemplateBinding Background}"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="Tag" Value="Horizontal">
                                    <Setter TargetName="Rectangle1" Property="Width" Value="Auto"/>
                                    <Setter TargetName="Rectangle1" Property="Height" Value="7"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--SCROLLBARS-->
            <Style x:Key="{x:Type ScrollBar}" TargetType="{x:Type ScrollBar}">
                <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
                <Setter Property="Foreground" Value="#4A7AB0"/>
                <Setter Property="Background" Value="DarkGray"/>
                <Setter Property="Width" Value="10"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ScrollBar}">
                            <Grid x:Name="GridRoot" Width="12" Background="{x:Null}">
                                <Track x:Name="PART_Track" Grid.Row="0" IsDirectionReversed="true" Focusable="False">
                                    <Track.Thumb>
                                        <Thumb x:Name="Thumb" Background="{TemplateBinding Foreground}" 
                                               Style="{DynamicResource ScrollThumbs}"/>
                                    </Track.Thumb>
                                    <Track.IncreaseRepeatButton>
                                        <RepeatButton x:Name="PageUp" Command="ScrollBar.PageDownCommand" Opacity="0" Focusable="False"/>
                                    </Track.IncreaseRepeatButton>
                                    <Track.DecreaseRepeatButton>
                                        <RepeatButton x:Name="PageDown" Command="ScrollBar.PageUpCommand" Opacity="0" Focusable="False"/>
                                    </Track.DecreaseRepeatButton>
                                </Track>
                            </Grid>

                            <ControlTemplate.Triggers>
                                <Trigger SourceName="Thumb" Property="IsMouseOver" Value="true">
                                    <Setter Value="{DynamicResource ButtonSelectBrush}" 
                                            TargetName="Thumb" Property="Background"/>
                                </Trigger>
                                <Trigger SourceName="Thumb" Property="IsDragging" Value="true">
                                    <Setter Value="{DynamicResource DarkBrush}" TargetName="Thumb" Property="Background"/>
                                </Trigger>

                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="Thumb" Property="Visibility" Value="Collapsed"/>
                                </Trigger>
                                <Trigger Property="Orientation" Value="Horizontal">
                                    <Setter TargetName="GridRoot" Property="LayoutTransform">
                                        <Setter.Value>
                                            <RotateTransform Angle="-90"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="PART_Track" Property="LayoutTransform">
                                        <Setter.Value>
                                            <RotateTransform Angle="-90"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter Property="Width" Value="Auto"/>
                                    <Setter Property="Height" Value="Auto"/>
                                    <Setter TargetName="Thumb" Property="Tag" Value="Horizontal"/>
                                    <Setter TargetName="PageDown" Property="Command" Value="ScrollBar.PageLeftCommand"/>
                                    <Setter TargetName="PageUp" Property="Command" Value="ScrollBar.PageRightCommand"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="FocusVisual">
                <Setter Property="Control.Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <SolidColorBrush x:Key="TextBox.Static.Background" Color="#FFFFFFFF"/>

            <Style x:Key="ComboBoxEditableTextBox" TargetType="{x:Type TextBox}">
                <Setter Property="OverridesDefaultStyle" Value="true"/>
                <Setter Property="AllowDrop" Value="true"/>
                <Setter Property="MinWidth" Value="0"/>
                <Setter Property="MinHeight" Value="0"/>
                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                <Setter Property="ScrollViewer.PanningMode" Value="VerticalFirst"/>
                <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type TextBox}">
                            <ScrollViewer x:Name="PART_ContentHost" Background="Transparent" Focusable="false" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>



            <SolidColorBrush x:Key="ComboBox.Static.Background" Color="White" />
            <SolidColorBrush x:Key="ComboBox.Static.Border" Color="#C9C9C9"/>
            <SolidColorBrush x:Key="ComboBox.Static.Glyph" Color="#FF606060"/>
            <SolidColorBrush x:Key="ComboBox.Static.Editable.Background" Color="#FFFFFFFF"/>
            <SolidColorBrush x:Key="ComboBox.Static.Editable.Border" Color="#FFABADB3"/>
            <SolidColorBrush x:Key="ComboBox.Static.Editable.Button.Background" Color="Transparent"/>
            <SolidColorBrush x:Key="ComboBox.Static.Editable.Button.Border" Color="Transparent"/>
            <SolidColorBrush x:Key="ComboBox.MouseOver.Background" Color="Transparent"/>
            <SolidColorBrush x:Key="ComboBox.MouseOver.Border" Color="#C9C9C9"/>
            <SolidColorBrush x:Key="ComboBox.MouseOver.Glyph" Color="#FF000000"/>
            <SolidColorBrush x:Key="ComboBox.MouseOver.Editable.Background" Color="#FFFFFFFF"/>
            <SolidColorBrush x:Key="ComboBox.MouseOver.Editable.Border" Color="#C9C9C9"/>
            <LinearGradientBrush x:Key="ComboBox.MouseOver.Editable.Button.Background" EndPoint="0,1" StartPoint="0,0">
                <GradientStop Color="#FFEBF4FC" Offset="0.0"/>
                <GradientStop Color="#FFDCECFC" Offset="1.0"/>
            </LinearGradientBrush>
            <SolidColorBrush x:Key="ComboBox.MouseOver.Editable.Button.Border" Color="#C9C9C9"/>
            <LinearGradientBrush x:Key="ComboBox.Pressed.Background" EndPoint="0,1" StartPoint="0,0">
                <GradientStop Color="#FFDAECFC" Offset="0.0"/>
                <GradientStop Color="#FFC4E0FC" Offset="1.0"/>
            </LinearGradientBrush>
            <SolidColorBrush x:Key="ComboBox.Pressed.Border" Color="#C9C9C9"/>
            <SolidColorBrush x:Key="ComboBox.Pressed.Glyph" Color="#FF000000"/>
            <SolidColorBrush x:Key="ComboBox.Pressed.Editable.Background" Color="#FFFFFFFF"/>
            <SolidColorBrush x:Key="ComboBox.Pressed.Editable.Border" Color="#C9C9C9"/>
            <LinearGradientBrush x:Key="ComboBox.Pressed.Editable.Button.Background" EndPoint="0,1" StartPoint="0,0">
                <GradientStop Color="#FFDAEBFC" Offset="0.0"/>
                <GradientStop Color="#FFC4E0FC" Offset="1.0"/>
            </LinearGradientBrush>
            <SolidColorBrush x:Key="ComboBox.Pressed.Editable.Button.Border" Color="#C9C9C9"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Background" Color="#FFF0F0F0"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Border" Color="#C9C9C9"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Glyph" Color="#C9C9C9"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Editable.Background" Color="#FFFFFFFF"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Editable.Border" Color="#FFBFBFBF"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Editable.Button.Background" Color="Transparent"/>
            <SolidColorBrush x:Key="ComboBox.Disabled.Editable.Button.Border" Color="Transparent"/>

            <Style x:Key="ComboBoxToggleButton" TargetType="{x:Type ToggleButton}">
                <Setter Property="OverridesDefaultStyle" Value="true"/>
                <Setter Property="IsTabStop" Value="false"/>
                <Setter Property="Focusable" Value="false"/>
                <Setter Property="ClickMode" Value="Press"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <!-- aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa -->
                            <Grid>

                                <Border CornerRadius="20" x:Name="templateRoot" Background="{StaticResource ComboBox.Static.Background}" BorderBrush="{StaticResource ComboBox.Static.Border}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true">
                                    <Border x:Name="splitBorder" BorderBrush="Transparent" BorderThickness="1" Margin="19,-1,0,1" SnapsToDevicePixels="true"  HorizontalAlignment="Left" Width="66">
                                        <Path x:Name="arrow" Fill="{StaticResource ComboBox.Static.Glyph}" Data="F1 M 0,0 L 2.667,2.66665 L 5.3334,0 L 5.3334,-1.78168 L 2.6667,0.88501 L0,-1.78168 L0,0 Z" Stretch="Fill" RenderTransformOrigin="0.5,0.5" Margin="-1,26,0,0"  Width="14" Height="6." HorizontalAlignment="Left" VerticalAlignment="Top">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform ScaleY="1" ScaleX="1"/>
                                                    <SkewTransform/>
                                                    <RotateTransform/>
                                                    <TranslateTransform/>
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Border>

                                </Border>

                            </Grid>
                            <!-- aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa -->

                            <ControlTemplate.Triggers>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="true"/>
                                        <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Mode=Self}}" Value="false"/>
                                        <Condition Binding="{Binding IsPressed, RelativeSource={RelativeSource Mode=Self}}" Value="false"/>
                                        <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Mode=Self}}" Value="true"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.Static.Editable.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.Static.Editable.Border}"/>
                                    <Setter Property="Background" TargetName="splitBorder" Value="{StaticResource ComboBox.Static.Editable.Button.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="splitBorder" Value="{StaticResource ComboBox.Static.Editable.Button.Border}"/>
                                </MultiDataTrigger>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter Property="Fill" TargetName="arrow" Value="{StaticResource ComboBox.MouseOver.Glyph}"/>
                                </Trigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Mode=Self}}" Value="true"/>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="false"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.MouseOver.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.MouseOver.Border}"/>
                                </MultiDataTrigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Mode=Self}}" Value="true"/>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="true"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.MouseOver.Editable.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.MouseOver.Editable.Border}"/>
                                    <Setter Property="Background" TargetName="splitBorder" Value="{StaticResource ComboBox.MouseOver.Editable.Button.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="splitBorder" Value="{StaticResource ComboBox.MouseOver.Editable.Button.Border}"/>
                                </MultiDataTrigger>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter Property="Fill" TargetName="arrow" Value="{StaticResource ComboBox.Pressed.Glyph}"/>
                                </Trigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsPressed, RelativeSource={RelativeSource Mode=Self}}" Value="true"/>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="false"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.Pressed.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.Pressed.Border}"/>
                                </MultiDataTrigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsPressed, RelativeSource={RelativeSource Mode=Self}}" Value="true"/>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="true"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.Pressed.Editable.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.Pressed.Editable.Border}"/>
                                    <Setter Property="Background" TargetName="splitBorder" Value="{StaticResource ComboBox.Pressed.Editable.Button.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="splitBorder" Value="{StaticResource ComboBox.Pressed.Editable.Button.Border}"/>
                                </MultiDataTrigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter Property="Fill" TargetName="arrow" Value="{StaticResource ComboBox.Disabled.Glyph}"/>
                                </Trigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Mode=Self}}" Value="false"/>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="false"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.Disabled.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.Disabled.Border}"/>
                                </MultiDataTrigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Mode=Self}}" Value="false"/>
                                        <Condition Binding="{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}" Value="true"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Background" TargetName="templateRoot" Value="{StaticResource ComboBox.Disabled.Editable.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="{StaticResource ComboBox.Disabled.Editable.Border}"/>
                                    <Setter Property="Background" TargetName="splitBorder" Value="{StaticResource ComboBox.Disabled.Editable.Button.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="splitBorder" Value="{StaticResource ComboBox.Disabled.Editable.Button.Border}"/>
                                </MultiDataTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <ControlTemplate x:Key="ComboBoxEditableTemplate" TargetType="{x:Type ComboBox}">
                <Grid x:Name="templateRoot" SnapsToDevicePixels="true">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition MinWidth="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" Width="0"/>
                    </Grid.ColumnDefinitions>
                    <Popup x:Name="PART_Popup" AllowsTransparency="true" Grid.ColumnSpan="2" IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource Mode=TemplatedParent}}" Placement="Bottom" PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}">
                        <theme:SystemDropShadowChrome x:Name="shadow" Color="Transparent" MinWidth="{Binding ActualWidth, ElementName=templateRoot}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                            <Border x:Name="dropDownBorder" Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" BorderBrush="{DynamicResource {x:Static SystemColors.WindowFrameBrushKey}}" BorderThickness="1">
                                <ScrollViewer x:Name="DropDownScrollViewer">
                                    <Grid x:Name="grid" RenderOptions.ClearTypeHint="Enabled">
                                        <Canvas x:Name="canvas" HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                            <Rectangle x:Name="opaqueRect" Fill="{Binding Background, ElementName=dropDownBorder}" Height="{Binding ActualHeight, ElementName=dropDownBorder}" Width="{Binding ActualWidth, ElementName=dropDownBorder}"/>
                                        </Canvas>
                                        <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Contained" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                    </Grid>
                                </ScrollViewer>
                            </Border>
                        </theme:SystemDropShadowChrome>
                    </Popup>
                    <ToggleButton x:Name="toggleButton" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Grid.ColumnSpan="2" IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" Style="{StaticResource ComboBoxToggleButton}"/>
                    <Border x:Name="border" Background="{StaticResource TextBox.Static.Background}" Margin="{TemplateBinding BorderThickness}">
                        <TextBox x:Name="PART_EditableTextBox" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" IsReadOnly="{Binding IsReadOnly, RelativeSource={RelativeSource Mode=TemplatedParent}}" Margin="{TemplateBinding Padding}" Style="{StaticResource ComboBoxEditableTextBox}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
                    </Border>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Opacity" TargetName="border" Value="0.56"/>
                    </Trigger>
                    <Trigger Property="IsKeyboardFocusWithin" Value="true">
                        <Setter Property="Foreground" Value="Black"/>
                    </Trigger>
                    <Trigger Property="HasDropShadow" SourceName="PART_Popup" Value="true">
                        <Setter Property="Margin" TargetName="shadow" Value="0,0,5,5"/>
                        <Setter Property="Color" TargetName="shadow" Value="#71000000"/>
                    </Trigger>
                    <Trigger Property="HasItems" Value="false">
                        <Setter Property="Height" TargetName="dropDownBorder" Value="95"/>
                    </Trigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsGrouping" Value="true"/>
                            <Condition Property="VirtualizingPanel.IsVirtualizingWhenGrouping" Value="false"/>
                        </MultiTrigger.Conditions>
                        <Setter Property="ScrollViewer.CanContentScroll" Value="false"/>
                    </MultiTrigger>
                    <Trigger Property="ScrollViewer.CanContentScroll" SourceName="DropDownScrollViewer" Value="false">
                        <Setter Property="Canvas.Top" TargetName="opaqueRect" Value="{Binding VerticalOffset, ElementName=DropDownScrollViewer}"/>
                        <Setter Property="Canvas.Left" TargetName="opaqueRect" Value="{Binding HorizontalOffset, ElementName=DropDownScrollViewer}"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="ComboBoxTemplate" TargetType="{x:Type ComboBox}">
                <Grid x:Name="templateRoot" SnapsToDevicePixels="true">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Popup x:Name="PART_Popup" AllowsTransparency="true" IsOpen="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" Margin="1,1,1,1" Placement="Bottom" PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}">
                        <theme:SystemDropShadowChrome x:Name="shadow" Color="Transparent" MinWidth="{Binding ActualWidth, ElementName=templateRoot}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                            <Border x:Name="dropDownBorder" Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" BorderBrush="{DynamicResource {x:Static SystemColors.WindowFrameBrushKey}}" BorderThickness="1">
                                <ScrollViewer x:Name="DropDownScrollViewer">
                                    <Grid x:Name="grid" RenderOptions.ClearTypeHint="Enabled">
                                        <Canvas x:Name="canvas" HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                            <Rectangle x:Name="opaqueRect" Fill="{Binding Background, ElementName=dropDownBorder}" Height="{Binding ActualHeight, ElementName=dropDownBorder}" Width="{Binding ActualWidth, ElementName=dropDownBorder}"/>
                                        </Canvas>
                                        <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Contained" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                    </Grid>
                                </ScrollViewer>
                            </Border>
                        </theme:SystemDropShadowChrome>
                    </Popup>
                    <ToggleButton x:Name="toggleButton" Background="White" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" Style="{StaticResource ComboBoxToggleButton}"/>
                    <ContentPresenter x:Name="contentPresenter" ContentStringFormat="{TemplateBinding SelectionBoxItemStringFormat}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" Content="{TemplateBinding SelectionBoxItem}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" IsHitTestVisible="false"  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" FlowDirection="RightToLeft" Height="56" VerticalAlignment="Top" Margin="-38,16,35,0"/>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="HasDropShadow" SourceName="PART_Popup" Value="true">
                        <Setter Property="Margin" TargetName="shadow" Value="0,0,5,5"/>
                        <Setter Property="Color" TargetName="shadow" Value="#71000000"/>
                    </Trigger>
                    <Trigger Property="HasItems" Value="false">
                        <Setter Property="Height" TargetName="dropDownBorder" Value="95"/>
                    </Trigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsGrouping" Value="true"/>
                            <Condition Property="VirtualizingPanel.IsVirtualizingWhenGrouping" Value="false"/>
                        </MultiTrigger.Conditions>
                        <Setter Property="ScrollViewer.CanContentScroll" Value="false"/>
                    </MultiTrigger>
                    <Trigger Property="ScrollViewer.CanContentScroll" SourceName="DropDownScrollViewer" Value="false">
                        <Setter Property="Canvas.Top" TargetName="opaqueRect" Value="{Binding VerticalOffset, ElementName=DropDownScrollViewer}"/>
                        <Setter Property="Canvas.Left" TargetName="opaqueRect" Value="{Binding HorizontalOffset, ElementName=DropDownScrollViewer}"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <Style x:Key="MyComboBox" TargetType="{x:Type ComboBox}">
                <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual}"/>
                <Setter Property="Background" Value="{StaticResource ComboBox.Static.Background}"/>
                <Setter Property="BorderBrush" Value="{StaticResource ComboBox.Static.Border}"/>
                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
                <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
                <Setter Property="Padding" Value="6,3,5,3"/>
                <Setter Property="ScrollViewer.CanContentScroll" Value="true"/>
                <Setter Property="ScrollViewer.PanningMode" Value="Both"/>
                <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
                <Setter Property="Template" Value="{StaticResource ComboBoxTemplate}"/>
                <Style.Triggers>
                    <Trigger Property="IsEditable" Value="true">
                        <Setter Property="IsTabStop" Value="false"/>
                        <Setter Property="Padding" Value="2"/>
                        <Setter Property="Template" Value="{StaticResource ComboBoxEditableTemplate}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="FocusVisual1">
                <Setter Property="Control.Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="OptionMarkFocusVisual">
                <Setter Property="Control.Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Margin="14,0,0,0" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <SolidColorBrush x:Key="RadioButton.Static.Background" Color="#FFFFFFFF"/>
            <SolidColorBrush x:Key="RadioButton.Static.Border" Color="#FF707070"/>
            <SolidColorBrush x:Key="RadioButton.Static.Glyph" Color="#FF212121"/>
            <SolidColorBrush x:Key="RadioButton.MouseOver.Background" Color="#FFF3F9FF"/>
            <SolidColorBrush x:Key="RadioButton.MouseOver.Border" Color="#FF5593FF"/>
            <SolidColorBrush x:Key="RadioButton.MouseOver.Glyph" Color="#FF212121"/>
            <SolidColorBrush x:Key="RadioButton.Pressed.Background" Color="#FFD9ECFF"/>
            <SolidColorBrush x:Key="RadioButton.Pressed.Border" Color="#FF3C77DD"/>
            <SolidColorBrush x:Key="RadioButton.Pressed.Glyph" Color="#FF212121"/>
            <SolidColorBrush x:Key="RadioButton.Disabled.Background" Color="#FFE6E6E6"/>
            <SolidColorBrush x:Key="RadioButton.Disabled.Border" Color="#FFBCBCBC"/>
            <SolidColorBrush x:Key="RadioButton.Disabled.Glyph" Color="#FF707070"/>
            <Style x:Key="MyRadioButton" TargetType="{x:Type RadioButton}">
                <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual1}"/>
                <Setter Property="Background" Value="{StaticResource RadioButton.Static.Background}"/>
                <Setter Property="BorderBrush" Value="{StaticResource RadioButton.Static.Border}"/>
                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type RadioButton}">
                            <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True" Margin="-22,0,-2,-1" Width="NaN" Height="NaN">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" MinWidth="46"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Border x:Name="radioButtonBorder" Background="{TemplateBinding Background}" BorderThickness="0.5" CornerRadius="100" Width="12" Margin="0,11,6,15" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Right">
                                    <Border.BorderBrush>
                                        <SolidColorBrush Color="Black" Opacity="0.4"/>
                                    </Border.BorderBrush>
                                    <Border.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="2" ScaleY="2"/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform/>
                                        </TransformGroup>
                                    </Border.RenderTransform>
                                    <Grid x:Name="markGrid" HorizontalAlignment="Center" Width="12">
                                        <Ellipse x:Name="optionMark" Fill="#4A7AB0" MinWidth="6" MinHeight="6" Opacity="0" HorizontalAlignment="Center" Width="12"/>
                                    </Grid>
                                </Border>
                                <ContentPresenter x:Name="contentPresenter" Focusable="False" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Margin="15,0,0,10" HorizontalAlignment="Left" Width="40" Grid.Column="1"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="HasContent" Value="true">
                                    <Setter Property="FocusVisualStyle" Value="{StaticResource OptionMarkFocusVisual}"/>
                                    <Setter Property="Padding" Value="4,-1,0,0"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter Property="Background" TargetName="radioButtonBorder" Value="{StaticResource RadioButton.MouseOver.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="{StaticResource RadioButton.MouseOver.Border}"/>
                                    <Setter Property="Fill" TargetName="optionMark" Value="{StaticResource RadioButton.MouseOver.Glyph}"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter Property="Background" TargetName="radioButtonBorder" Value="{StaticResource RadioButton.Disabled.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="{StaticResource RadioButton.Disabled.Border}"/>
                                    <Setter Property="Fill" TargetName="optionMark" Value="{StaticResource RadioButton.Disabled.Glyph}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter Property="Background" TargetName="radioButtonBorder" Value="{StaticResource RadioButton.Pressed.Background}"/>
                                    <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="{StaticResource RadioButton.Pressed.Border}"/>
                                    <Setter Property="Fill" TargetName="optionMark" Value="{StaticResource RadioButton.Pressed.Glyph}"/>
                                </Trigger>
                                <Trigger Property="IsChecked" Value="true">
                                    <Setter Property="Opacity" TargetName="optionMark" Value="1"/>
                                </Trigger>
                                <Trigger Property="IsChecked" Value="{x:Null}">
                                    <Setter Property="Opacity" TargetName="optionMark" Value="0.56"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </Window.Resources>

    <!-- Main Window Border -->


    <Border x:Name="MainBorder" Background="#FFFFFF" CornerRadius="10" BorderThickness="2" BorderBrush="LightGray" Margin="0,-10,0,0">
        <Grid>
            <!-- Custom Rounded Title Bar -->
            <Grid Height="151" VerticalAlignment="Top">
                <Border x:Name="TitleBar" Background="#FFFFFFFF" CornerRadius="50,50,0,0" Height="50" VerticalAlignment="Top"
                    MouseDown="TitleBar_MouseDown">
                    <Grid Height="50" VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="51" />
                            <ColumnDefinition Width="73" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="SmartFit" FontSize="18" FontWeight="Bold"
                               VerticalAlignment="Center" Margin="20,0,0,0" Height="24"/>

                        <!-- Minimize Button -->
                        <Button Grid.Column="1" Content="━" FontSize="16" Click="Minimize_Click"
                            Background="Transparent" BorderBrush="Transparent" ToolTip="Minimize" Margin="0,6,0,6" HorizontalAlignment="Center" Width="38" Cursor="Hand">
                            <Button.Effect>
                                <DropShadowEffect/>
                            </Button.Effect>

                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
  CornerRadius="10"
  BorderBrush="Transparent"
  BorderThickness="0"
  Padding="5"
  Effect="{StaticResource DropShadowEffect}">
                                        <ContentPresenter HorizontalAlignment="Center"
                VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>

                        </Button>

                        <!-- Maximize/Restore Button -->
                        <Button Grid.Column="2" Content="▢" FontSize="16" Click="MaximizeRestore_Click"
                            Background="Transparent" BorderBrush="Transparent" ToolTip="Maximize/Restore" Margin="5,6,5,6" Cursor="Hand">
                            <Button.Effect>
                                <DropShadowEffect/>
                            </Button.Effect>

                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
  CornerRadius="10"
  BorderBrush="Transparent"
  BorderThickness="0"
  Padding="5"
  Effect="{StaticResource DropShadowEffect}">
                                        <ContentPresenter HorizontalAlignment="Center"
                VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>

                        </Button>

                        <!-- Close Button -->
                        <Button  Grid.Column="3" Content="✕" FontSize="16" Click="Close_Click"
                            Background="Transparent" BorderBrush="Transparent" Foreground="Red" ToolTip="Close" Margin="13,6,27,6" Cursor="Hand" >
                            <Button.Effect>
                                <DropShadowEffect/>
                            </Button.Effect>

                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                    CornerRadius="10"
                    BorderBrush="Transparent"
                    BorderThickness="0"
                    Padding="5"
                    Effect="{StaticResource DropShadowEffect}">
                                        <ContentPresenter HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>

                        </Button>
                    </Grid>
                </Border>
            </Grid>

            <!-- Main Content -->
            <Grid Margin="0,50,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>

                <!-- UI elements go here -->

                <Grid HorizontalAlignment="Left" Width="369" Height="826" VerticalAlignment="Top">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="18*"/>
                        <RowDefinition Height="95*"/>
                        <RowDefinition Height="713*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Background="#FFFFFFFF" HorizontalAlignment="Center" Width="328" Margin="0,68,0,158" Grid.Row="2">

                        <!-- Navigation Items -->
                        <!-- Logo -->
                        <Border x:Name="HomeBorder"  Margin="0,0,0,1" CornerRadius="28" Background="#4A7AB0" Height="56" Width="296" Padding="20,16,10,16" Cursor="Hand" MouseDown="NavigationButton_MouseDown">
                            <StackPanel Orientation="Horizontal">
                                <Image  x:Name="HomeIcon" HorizontalAlignment="Left" Source="Assets\Images\vector.png"  Width="24" Height="24" Margin="0,0,0,0"/>
                                <TextBlock x:Name="HomeText" Text="الرئيسية" FontSize="16" FontWeight="SemiBold" Foreground="White"  Margin="8,0,0,0" Height="29"/>
                            </StackPanel>
                        </Border>
                        <Border x:Name="ExcBorder"  Margin="0,0,0,1" CornerRadius="28" Background="#FFFFFF" Height="56" Width="296" Padding="20,16,10,16" Cursor="Hand" MouseDown="NavigationButton_MouseDown">
                            <StackPanel Orientation="Horizontal">
                                <Image x:Name="ExcIcon" Source="Assets\Images\Dumbbells2.png" Width="24" Height="24" Margin="0,0,0,0"/>
                                <TextBlock x:Name="ExcText" Text="تمارينك" FontSize="16" FontWeight="SemiBold" Foreground="#FF4A7AB0" Margin="8,0,0,0"/>
                            </StackPanel>
                        </Border>
                        <Border  x:Name="AiBorder" Margin="0,0,0,1" CornerRadius="28" Background="#FFFFFF" Height="56" Width="296" Padding="20,16,10,16" Cursor="Hand" MouseDown="NavigationButton_MouseDown">
                            <StackPanel Orientation="Horizontal">
                                <Image x:Name="AiIcon" Source="Assets\Images\StarsMinimalistic2.png" Width="24" Height="24" Margin="0,0,0,0" />
                                <TextBlock x:Name="AiText" Text="إنشاء خطة مع AI" FontSize="16" FontWeight="SemiBold" Foreground="#FF4A7AB0" Margin="8,0,0,0" FlowDirection="RightToLeft"/>
                            </StackPanel>
                        </Border>
                        <Border x:Name="Userborder" Margin="0,0,0,1" CornerRadius="28" Background="#FFFFFF" Height="56" Width="296" Padding="20,16,10,16" Cursor="Hand" MouseDown="NavigationButton_MouseDown">
                            <StackPanel Orientation="Horizontal">
                                <Image x:Name="UserIcon" Source="Assets\Images\User2.png" Width="24" Height="24" Margin="0,0,0,0" />
                                <TextBlock x:Name="UserText" Text="ملفك الشخصي" FontSize="16" FontWeight="SemiBold" Foreground="#FF4A7AB0" Margin="8,0,0,0"/>
                            </StackPanel>
                        </Border>

                    </StackPanel>

                    <Label FontFamily="Assets\Fonts\#Poppins Black" Content="Smart Fit" FontSize="24" VerticalContentAlignment="Center" Foreground="#FF4A7AB0" Margin="129,0,0,3" HorizontalAlignment="Left" Width="199" Grid.Row="1" />
                    <Image Source="/Assets/Images/Logo.png" HorizontalAlignment="Left" Width="80" Margin="37,0,0,15" Grid.Row="1"/>
                </Grid>

                <Grid Height="96" VerticalAlignment="Top" Margin="369,0,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>





                    <Grid Height="96" VerticalAlignment="Center" HorizontalAlignment="Left" Width="582">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250*"/>
                            <ColumnDefinition Width="41*"/>
                        </Grid.ColumnDefinitions>

                        <Grid Margin="0,0,2,0">

                            <Border Background="#FFF4F4F4" Height="56" CornerRadius="28" BorderBrush="Gray" BorderThickness="0" Padding="30,0,0,0" Margin="3,20,1,20" >
                                <Grid>
                                    <TextBox  x:Name="SearchBox" IsReadOnly="True"  TextWrapping="Wrap" Text="ابحث عن تمرينك" VerticalAlignment="Center" Height="44" BorderThickness="0,0,0,0" VerticalContentAlignment="Center" Padding="30,0,0,0" Background="#FFF4F4F4" Cursor="IBeam" Foreground="Gray" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" Margin="0,0,17,0"/>
                                    <Image Height="18" VerticalAlignment="Center" Source="/Assets/Images/Magnifer.png" Stretch="Fill" Cursor="Hand" Margin="-12,0,0,0" HorizontalAlignment="Left" Width="27"/>
                                </Grid>
                            </Border>

                        </Grid>

                        <Grid Margin="3,0,-1,0" Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="39*"/>
                                <ColumnDefinition Width="41*"/>
                            </Grid.ColumnDefinitions>

                            <Image x:Name="btnAiChat" HorizontalAlignment="Center" Height="24" VerticalAlignment="Center" Width="24" Source="/Assets/Images/Notifications.png" Cursor="Hand" MouseDown="btnSoon_MouseDown"/>
                            <Image x:Name="btnNotification" HorizontalAlignment="Right" Height="24" VerticalAlignment="Center" Width="24" Source="/Assets/Images/AIChat.png" Cursor="Hand" Grid.Column="1" Margin="0,0,8,0" MouseDown="btnSoon_MouseDown"/>

                        </Grid>
                    </Grid>

                    <Grid Height="96" VerticalAlignment="Center" HorizontalAlignment="Right" Width="225">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="152*"/>
                            <ColumnDefinition Width="73*"/>
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="1" HorizontalAlignment="Left" Width="73">

                            <Ellipse x:Name="btnUserPhoto" Height="48" VerticalAlignment="Center" Cursor="Hand" Margin="0,0,25,0" HorizontalAlignment="Right" Width="48" MouseDown="NavigationButton_MouseDown">
                                <Ellipse.Fill>
                                    <ImageBrush ImageSource="/Assets/Images/Logo.png"/>
                                </Ellipse.Fill>
                            </Ellipse>


                        </Grid>

                        <Grid Height="96" VerticalAlignment="Center" Margin="0,0,5,0" HorizontalAlignment="Right" Width="147">

                            <Label x:Name="SideOfThePhotoUserName" Content="Ahmed muhmmed" Margin="0,25,0,44" HorizontalContentAlignment="Right" HorizontalAlignment="Right" Width="109"/>
                            <Label x:Name="SideOfThePhotoUserAge" Content="18 عام" Margin="0,48,-1,20" FlowDirection="RightToLeft" Foreground="#FFB2B2B2" HorizontalAlignment="Right" Width="110"/>

                        </Grid>
                    </Grid>

                </Grid>



                <Border CornerRadius="32,0,0,0" Background="#FFF4F4F4" Padding="5" Margin="364,96,4,4">

                    <Grid>

                        <TabControl x:Name="WindowsContainer" BorderThickness="0" Margin="-5,1,-5,-11" Background="{x:Null}" BorderBrush="{x:Null}" Foreground="{x:Null}">

                            <TabControl.Resources>
                                <Style TargetType="TabItem">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </Style>
                            </TabControl.Resources>

                            <TabItem     TabIndex="0" >

                                <Grid Height="847" VerticalAlignment="Top" Margin="0,-30,0,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="239*"/>
                                        <RowDefinition Height="603*"/>
                                    </Grid.RowDefinitions>

                                    <Grid Margin="10,10,0,3">

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="677*"/>
                                            <ColumnDefinition Width="390*"/>
                                        </Grid.ColumnDefinitions>

                                        <Border Height="180  " CornerRadius="32" Background="#D6DCFF" Margin="0,36,18,0" VerticalAlignment="Top" Grid.Column="1">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition Width="0*"/>
                                                </Grid.ColumnDefinitions>
                                                <Border x:Name="btnContinuYourEXC" Background="#4A7AB0" Margin="28,28,0,114" CornerRadius="32" Width="152" Cursor="Hand" HorizontalAlignment="Left" MouseDown="NavigationButton_MouseDown" >
                                                    <Label Content="أكمل تمرينك الان!"  Foreground="#FFFFFF" FlowDirection="RightToLeft" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <Ellipse Margin="0,136,10,0" HorizontalAlignment="Right" Width="207">
                                                    <Ellipse.Fill>
                                                        <SolidColorBrush Color="Black" Opacity="0.03"/>
                                                    </Ellipse.Fill>
                                                </Ellipse>
                                                <Image Source="Assets\Images\PushupMan.png" Margin="0,47,0,7" HorizontalAlignment="Right" Width="240"/>
                                            </Grid>
                                        </Border>
                                        <Border Height="180  " CornerRadius="28" Background="#B8D9FF" Margin="8,36,17,0" VerticalAlignment="Top">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="477*"/>
                                                    <ColumnDefinition Width="175*"/>
                                                </Grid.ColumnDefinitions>

                                                <Image Source="Assets\Images\Water.png" Margin="15,30,0,30" HorizontalAlignment="Left" Width="120" Grid.Column="1"/>
                                                <Label Content="احتياجك من الماء اليوم" FontSize="24" Margin="0,68,20,68" HorizontalAlignment="Right" Width="226" Foreground="#FF6777DC"/>
                                                <Label Content="1.5 / 2.5 L" FontSize="24" Margin="0,105,20,30" HorizontalAlignment="Right" Width="113" Foreground="#FF6777DC"/>

                                            </Grid>
                                        </Border>

                                    </Grid>

                                    <Grid Margin="0,203,0,0" Grid.RowSpan="2" HorizontalAlignment="Right" Width="589">

                                        <Grid Margin="0,0,0,303">
                                            <Border Width="544" CornerRadius="28" Background="#B8D9FF" HorizontalAlignment="Center" Margin="0,49,0,65">
                                                <Grid>
                                                    <Grid Margin="395,0,0,0">
                                                        <Image Width="106" Height="160" Source="Assets\Images\Robot.png"/>

                                                    </Grid>

                                                    <Grid Margin="0,0,149,0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="37*"/>
                                                            <RowDefinition Height="108*"/>
                                                            <RowDefinition Height="77*"/>
                                                        </Grid.RowDefinitions>

                                                        <TextBlock Text="أهلا بك أحمد , هل أنت مستعد ليوم    حافل بالتمارين والنشاط !" Margin="54,17,0,17" Grid.Row="1" Height="74" FontSize="20" TextWrapping="Wrap" FlowDirection="RightToLeft" LineHeight="45" Foreground="#FF6777DC"/>

                                                        <Border x:Name="btnMakeYourPlanWithAi" Background="#4A7AB0" CornerRadius="32" Width="341" Height="53" Grid.Row="2" Cursor="Hand" Margin="54,14,0,10" MouseDown="NavigationButton_MouseDown">
                                                            <Label Content="اصنع خطتك المثالية مع AI" Foreground="White" Width="233" Height="37" FontSize="20" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FlowDirection="RightToLeft"/>
                                                        </Border>

                                                    </Grid>

                                                </Grid>
                                            </Border>
                                        </Grid>

                                        <Grid Margin="0,263,0,0">

                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="270*"/>
                                                <ColumnDefinition Width="269*"/>
                                            </Grid.ColumnDefinitions>

                                            <Border Width="264" CornerRadius="32" Background="#D6DCFF" Margin="10,36,20,0" Grid.Column="1" Height="224" VerticalAlignment="Top" >
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="121*"/>
                                                        <RowDefinition Height="103*"/>
                                                    </Grid.RowDefinitions>
                                                    <TextBlock Text="قياس السعرت الحرارية في طعامك" Margin="17,22,17,25" Width="230" Height="74" FontSize="20" TextWrapping="Wrap" FlowDirection="RightToLeft" LineHeight="35" Foreground="#FF6777DC"/>

                                                    <Border CornerRadius="0,0,0,32" Margin="0,0,167,0" Grid.Row="1">
                                                        <Border.Background>
                                                            <ImageBrush ImageSource="/Assets/Images/food.png" Stretch="Fill"/>
                                                        </Border.Background>
                                                    </Border>

                                                    <Border x:Name="btnCalcCaloriesInFood" Width="230" Height="42" CornerRadius="20" Background="#4A7AB0" Margin="17,23,17,38" Grid.Row="1" Cursor="Hand" MouseDown="btnCalcCaloriesInFood_MouseDown">
                                                        <Label Foreground="#FFFFFFFF" Content="قياس الان" FontSize="14" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                                                    </Border>
<!-- -->
                                                    <Popup x:Name="PopUpMeasuringCaloriesInFood" Placement="Center" AllowsTransparency="True">
                                                        <Border x:Name="BorderMeasuringCaloriesInFood" Width="504" Height="479" CornerRadius="32" Background="White" BorderThickness="1" BorderBrush="Black" MouseLeftButtonDown="draggableBorder_MouseLeftButtonDown" MouseMove="draggableBorder_MouseMove" MouseLeftButtonUp="draggableBorder_MouseLeftButtonUp">
                                                            <Grid>
                                                                <TextBlock FontSize="100" Text="Soon !" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FF4A7AB0" FontWeight="Bold"/>
                                                                <Border   CornerRadius="15" BorderBrush="Black" BorderThickness="0" Height="38" Margin="0,3,22,0" VerticalAlignment="Top" MouseDown="btnCloseMeasuringCaloriesInFood_MouseDown" HorizontalAlignment="Right" Width="33" Cursor="Hand">
                                                                    <Border.Effect>
                                                                        <DropShadowEffect/>
                                                                    </Border.Effect>
                                                                    <TextBlock Text="✕" FontSize="16" Foreground="Red" Height="18" Width="13" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold"/>
                                                                    
                                                                </Border>
                                                            </Grid>
                                                        </Border>
                                                    </Popup>
                                                    
                                                </Grid>
                                            </Border>

                                            <Border Width="264" CornerRadius="32" Background="#D6DCFF" Margin="21,36,10,0" Height="224" VerticalAlignment="Top">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="121*"/>
                                                        <RowDefinition Height="103*"/>
                                                    </Grid.RowDefinitions>
                                                    <TextBlock Text="احسب كم تحتاج من السعرات الحرارية وفقا لخطتك" Margin="17,22,17,5" Width="230" FontSize="20" TextWrapping="Wrap" FlowDirection="RightToLeft" LineHeight="35" Foreground="#FF6777DC"/>

                                                    <Border CornerRadius="0,0,0,32" Margin="0,31,132,0" Grid.RowSpan="2">
                                                        <Border.Background>
                                                            <ImageBrush ImageSource="/Assets/Images/Calories.png" Stretch="Fill"/>
                                                        </Border.Background>
                                                    </Border>

                                                    <Border x:Name="btnMeasuringCaloriesInPlan" Width="230" Height="42" CornerRadius="20" Background="#4A7AB0" Margin="17,23,17,38" Grid.Row="1" Cursor="Hand" MouseDown="btnMeasuringCaloriesInPlan_MouseDown">
                                                        <Label Foreground="#FFFFFFFF" Content="احسب الان" FontSize="14" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                                                    </Border>
                                                    <Popup x:Name="PopUpMeasuringCaloriesInPlan" Placement="Center" AllowsTransparency="True">
                                                        <Border  x:Name="BorderMeasuringCaloriesInPlan" Width="504" Height="479" CornerRadius="32" Background="White" BorderThickness="1" BorderBrush="Black" MouseLeftButtonDown="draggableBorder_MouseLeftButtonDown" MouseLeftButtonUp="draggableBorder_MouseLeftButtonUp" MouseMove="draggableBorder_MouseMove">
                                                            <Grid>
                                                                <TextBlock FontSize="100" Text="Soon !" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FF4A7AB0" FontWeight="Bold"/>
                                                                <Border   CornerRadius="15" BorderBrush="Black" BorderThickness="0" Height="38" Margin="0,3,22,0" VerticalAlignment="Top" MouseDown="btnCloseMeasuringCaloriesInPlan_MouseDown" HorizontalAlignment="Right" Width="33" Cursor="Hand">
                                                                    <Border.Effect>
                                                                        <DropShadowEffect/>
                                                                    </Border.Effect>
                                                                    <TextBlock Text="✕" FontSize="16" Foreground="Red" Height="18" Width="13" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold"/>

                                                                </Border>
                                                            </Grid>
                                                        </Border>
                                                    </Popup>
                                                </Grid>
                                            </Border>


                                        </Grid>

                                    </Grid>


                                    <Grid Margin="10,203,589,-9" Grid.RowSpan="2">

                                        <Border CornerRadius="32" Background="#FFFFFF" Margin="10,51,0,0" Height="471" VerticalAlignment="Top">

                                            <Grid Margin="10">
                                                <Border CornerRadius="10" Padding="10">
                                                    <Grid Margin="0,-25,0,0">
                                                        <!-- Chart Title -->
                                                        <TextBlock FontSize="16" FontWeight="Bold" 
           HorizontalAlignment="Right" Margin="0,10,0,382" Height="39" Width="142" Foreground="#FF7D8FFF" FlowDirection="RightToLeft" ><Run FlowDirection="RightToLeft" Language="ar-eg" Text="تقدمك الاسبوعي"/></TextBlock>

                                                        <!-- Chart -->
                                                        <lvc:CartesianChart Background="White" Margin="-11,64,-10,0">
                                                            <lvc:CartesianChart.Series>
                                                                <!-- Main Column Series -->
                                                                <lvc:ColumnSeries Values="{Binding ActivityValues}" Fill="#4A7AB0" MaxColumnWidth="20" ColumnPadding="5"/>

                                                                <!-- Rounded Top Circles -->
                                                                <lvc:ScatterSeries Values="{Binding ActivityValues}"  Fill="#4A7AB0" StrokeThickness="0" ClipToBounds="True" MaxPointShapeDiameter="15" MinPointShapeDiameter="15"  />
                                                            </lvc:CartesianChart.Series>

                                                            <lvc:CartesianChart.AxisX>
                                                                <lvc:Axis FontSize="16" MinValue="1" MaxValue="7" Labels="{Binding Days}">
                                                                    <lvc:Axis.Foreground>
                                                                        <SolidColorBrush Color="Black" Opacity="0.9"/>
                                                                    </lvc:Axis.Foreground>
                                                                    <lvc:Axis.Separator>
                                                                        <lvc:Separator Step="1" IsEnabled="False" />
                                                                    </lvc:Axis.Separator>
                                                                </lvc:Axis>
                                                            </lvc:CartesianChart.AxisX>

                                                            <lvc:CartesianChart.AxisY>
                                                                <lvc:Axis FontSize="16" MinValue="0" MaxValue="120" LabelFormatter="{Binding YAxisLabelFormatter}">
                                                                    <lvc:Axis.Foreground>
                                                                        <SolidColorBrush Color="Black" Opacity="0.6"/>
                                                                    </lvc:Axis.Foreground>
                                                                    <lvc:Axis.Separator>
                                                                        <lvc:Separator Step="30"  >
                                                                            <lvc:Separator.Stroke>
                                                                                <SolidColorBrush Color="Black" Opacity="0.3" />
                                                                            </lvc:Separator.Stroke>
                                                                        </lvc:Separator>
                                                                    </lvc:Axis.Separator>
                                                                </lvc:Axis>
                                                            </lvc:CartesianChart.AxisY>
                                                        </lvc:CartesianChart>

                                                    </Grid>
                                                </Border>
                                            </Grid>

                                        </Border>


                                    </Grid>

                                </Grid>



                            </TabItem>

                            <TabItem TabIndex="1" >

                                <ScrollViewer HorizontalScrollBarVisibility="Visible">

                                    
                                
                                        <TextBox  x:Name="TBMyPlan" FontSize="25" Foreground="#4A7AB0">

                                        </TextBox>


                          

                                </ScrollViewer>


                            </TabItem>

                            <TabItem TabIndex="2" >
                                <Grid>


                                    <Grid Margin="0,244,0,115">

                                        <ScrollViewer Margin="0,-20,0,4" HorizontalScrollBarVisibility="Visible">

                                            <TextBox  x:Name="TBAiResponse" FontSize="25" Foreground="#4A7AB0">
                                                
                                            </TextBox>
                                            
                                        </ScrollViewer>

                                    </Grid>

                                    <Grid>

                                        <Border CornerRadius="32" Background="#B8D9FF" Margin="19,20,34,0" Height="194" VerticalAlignment="Top">
                                            <Grid Height="194" VerticalAlignment="Top">
                                                <Grid HorizontalAlignment="Right" Width="261">

                                                    <Label Content="احتياجك من الماء" Margin="0,31,31,118" FontSize="24" Foreground="#FF7D8FFF" Width="161" Height="45" HorizontalAlignment="Right" Padding="0,0,0,0"></Label>
                                                    <Border CornerRadius="2" Height="154" BorderThickness="1" Margin="16,20,0,20" HorizontalAlignment="Left" Width="2">
                                                        <Border.BorderBrush>
                                                            <SolidColorBrush Color="White" Opacity="0.4"/>
                                                        </Border.BorderBrush>
                                                    </Border>
                                                    <Label x:Name="lblAmountOfWater" Content="1.5 / 2 L" Margin="0,97,31,52" FontSize="24" Foreground="White" Width="161" Height="45" HorizontalAlignment="Right" HorizontalContentAlignment="Center"/>

                                                </Grid>

                                                <Grid Margin="240,0,266,0">

                                                    <Label Content="تناول من الطعام على مايحتوي" Margin="0,31,0,118" FontSize="24" Foreground="#FF7D8FFF" Width="323" Height="45" HorizontalAlignment="Center" Padding="0,0,0,0" HorizontalContentAlignment="Center"/>
                                                    <Label x:Name="lblCalorieIntake" Content="500-700 kcal" Margin="0,97,0,52" FontSize="24" Foreground="White" Width="161" Height="45" HorizontalAlignment="Center" HorizontalContentAlignment="Center"/>

                                                </Grid>

                                                <Grid HorizontalAlignment="Left" Width="235">

                                                    <Border CornerRadius="2" Width="2" Height="154" BorderThickness="1" Margin="206,20,0,20" HorizontalAlignment="Left">
                                                        <Border.BorderBrush>
                                                            <SolidColorBrush Color="White" Opacity="0.4"/>
                                                        </Border.BorderBrush>
                                                    </Border>
                                                    <Label Content="وقت التمرين" Margin="23,31,0,118" FontSize="24" Foreground="#FF7D8FFF" Width="161" Height="45" HorizontalAlignment="Left" Padding="0,0,0,0" HorizontalContentAlignment="Center"/>
                                                    <Label x:Name="lblExerciseTime" Content="1.5h-2h" Margin="23,97,0,52" FontSize="24" Foreground="White" Width="161" Height="45" HorizontalAlignment="Left" HorizontalContentAlignment="Center"/>

                                                </Grid>

                                            </Grid>
                                        </Border>

                                    </Grid>

                                    <Grid Margin="0,0,0,38" Height="72" VerticalAlignment="Bottom" >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <Grid Grid.Column="1">

                                            <Border x:Name="btnAddNewPlan" CornerRadius="28" Background="#4A7AB0" Padding="20,16,10,16" Cursor="Hand"  Margin="0,10,21,6" HorizontalAlignment="Right" Width="512" MouseDown="btnAddNewPlan_MouseDown">

                                                <TextBlock Text="اضافة الخطة" FontSize="24" FontWeight="SemiBold" Foreground="White" Margin="170,0,180,0" FlowDirection="RightToLeft" Height="44" VerticalAlignment="Center"/>

                                            </Border>

                                        </Grid>

                                        <Grid>

                                            <Border x:Name="btnSuggestNewPlan" CornerRadius="28" Background="White" Padding="20,16,10,16" Cursor="Hand"  Margin="20,10,0,6" BorderThickness="1" BorderBrush="#FF4A7AB0" HorizontalAlignment="Left" Width="512" MouseDown="btnSuggestNewPlan_MouseDown">

                                                <TextBlock Height="45" Text="اقتراح خطة جديدة" FontSize="24" FontWeight="SemiBold" Foreground="#4A7AB0" Margin="147,-11,157,-11" FlowDirection="RightToLeft"/>

                                            </Border>

                                        </Grid>

                                    </Grid>
                                    <!-- Ai PopUp Screen -->
                                    <Popup  x:Name="AiPopupScreen" Placement="Center" AllowsTransparency="True">

                                        <Border Background="White" CornerRadius="32" BorderThickness="0" Margin="26,0,26,-4">
                                            <Grid>
                                                <Grid Margin="40,32,40,156">

                                                    <Grid Margin="0,0,0,476">
                                                        <TextBlock Text="هيا لنصنع معا خطتك الرياضية !" Padding="10" FlowDirection="RightToLeft" FontSize="24" Foreground="#FF4A7AB0" 
Margin="0,0,0,10" HorizontalAlignment="Center" Height="52" VerticalAlignment="Bottom"/>
                                                    </Grid>

                                                    <Grid Margin="0,56,0,0">

                                                        <Grid Margin="0,10,0,355">

                                                            <ComboBox  x:Name="CBSelectHeight" Style="{DynamicResource MyComboBox}" Margin="188,26,0,0" Height="56" FontSize="16" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="اقل من 150 سم"/>
                                                                <ComboBoxItem Content="150-160 سم"/>
                                                                <ComboBoxItem Content="161-170 سم"/>
                                                                <ComboBoxItem Content="171-180 سم"/>
                                                                <ComboBoxItem Content="181-190 سم"/>
                                                                <ComboBoxItem Content="191-200 سم"/>
                                                                <ComboBoxItem Content="اطول من 200 سم"/>
                                                            </ComboBox>

                                                            <ComboBox x:Name="CBSelectWeight" Style="{DynamicResource MyComboBox}" Margin="0,26,376,0" Width="176" Height="56" FontSize="16">
                                                                <ComboBoxItem Content="اقل من 50 كجم"/>
                                                                <ComboBoxItem Content="50-60 كجم"/>
                                                                <ComboBoxItem Content="61-70 كجم"/>
                                                                <ComboBoxItem Content="71-80 كجم"/>
                                                                <ComboBoxItem Content="81-90 كجم"/>
                                                                <ComboBoxItem Content="91-100 كجم"/>
                                                                <ComboBoxItem Content="101-110 كجم"/>
                                                                <ComboBoxItem Content="111-120 كجم"/>
                                                                <ComboBoxItem Content="اكثر من 120 كجم"/>
                                                            </ComboBox>
                                                            <Label Width="176" Content="الطول الحالي" Margin="370,15,0,0" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>
                                                            <Label Width="176" Content="الوزن الحالي" Margin="0,10,376,71" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>

                                                        </Grid>

                                                        <Grid Margin="0,121,0,254">

                                                            <ComboBox x:Name="CBSelectExercisesGoals"  Style="{DynamicResource MyComboBox}" Margin="188,0,0,0" Height="56" FontSize="16" VerticalAlignment="Bottom" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="🔥 فقدان الوزن"/>
                                                                <ComboBoxItem Content="💪 بناء العضلات"/>
                                                                <ComboBoxItem Content="⚡ زيادة اللياقة البدنية"/>
                                                                <ComboBoxItem Content="🏃‍ تحسين القدرة على التحمل"/>
                                                                <ComboBoxItem Content="📏 التعافي من إصابة"/>
                                                                <ComboBoxItem Content="🎯 تحسين الأداء الرياضي"/>
                                                                <ComboBoxItem Content="📏 تحسين المرونة والتوازن"/>
                                                                <ComboBoxItem Content="🧘‍ تقليل التوتر وتحسين الصحة العقلية"/>

                                                            </ComboBox>

                                                            <ComboBox x:Name="CBSelectFitnessLevel" Style="{DynamicResource MyComboBox}" Margin="0,0,376,0" Width="176" Height="56" FontSize="16" VerticalAlignment="Bottom" HorizontalAlignment="Right" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="مبتدئ (Beginner) – لمَن بدأ ممارسة الرياضة حديثًا أو لديه نشاط بدني قليل"/>
                                                                <ComboBoxItem Content="متوسط (Intermediate) – لمَن لديه خبرة متوسطة في التمارين ويمارس الرياضة بانتظام"/>
                                                                <ComboBoxItem Content="محترف (Professional) – لمَن يمارس الرياضة بمستوى احترافي مثل الرياضيين والمدربين"/>
                                                                <ComboBoxItem Content="رياضي نُخبة (Elite Athlete) – لمَن يتدرب على مستوى تنافسي عالي."/>
                                                            </ComboBox>

                                                            <Label Width="176" Content="الأهداف الرياضية" Margin="376,15,0,56" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>
                                                            <Label Width="176" Content="اللياقة البدنية" Margin="0,15,376,56" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>

                                                        </Grid>

                                                        <Grid Margin="0,222,0,137">

                                                            <ComboBox x:Name="CBSelectEXCTime" Style="{DynamicResource MyComboBox}" Width="176" Height="56" FontSize="16" VerticalAlignment="Bottom" HorizontalAlignment="Right" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="⏳ قصير (10-20 دقيقة) – تمارين سريعة للمبتدئين أو لجدول يومي مزدحم"/>
                                                                <ComboBoxItem Content="⌛ متوسط (30-45 دقيقة) – وقت مناسب لتمارين متوازنة وشاملة"/>
                                                                <ComboBoxItem Content="⌛ متوسط (30-45 دقيقة) – وقت مناسب لتمارين متوازنة وشاملة"/>
                                                                <ComboBoxItem Content="🕐 تمارين متقطعة (HIIT - أقل من 30 دقيقة) – تمارين عالية الشدة بفواصل راحة قصيرة."/>
                                                                <ComboBoxItem Content="🕒 تمارين التحمل (أكثر من 90 دقيقة) – للعدّائين ورياضات التحمل الطويلة."/>
                                                            </ComboBox>

                                                            <ComboBox x:Name="CBSelectTrainingDaysOfWeek" Style="{DynamicResource MyComboBox}" Margin="0,0,0,-1" Width="176" FontSize="16" HorizontalAlignment="Center" Height="56" VerticalAlignment="Bottom" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="🏖️ يوم واحد في الأسبوع – للراحة أو البدء بتمارين خفيفة."/>
                                                                <ComboBoxItem Content="💪 يومان في الأسبوع – مناسب للمبتدئين أو الجداول المشغولة."/>
                                                                <ComboBoxItem Content="🏋️‍ 3 أيام في الأسبوع – مثالي لتمارين متوسطة الكثافة (مثل تمارين القوة)."/>
                                                                <ComboBoxItem Content="🔥 4 أيام في الأسبوع – للحصول على تقدم ملحوظ في اللياقة البدنية."/>
                                                                <ComboBoxItem Content="⚡ 5 أيام في الأسبوع – للرياضيين أو من يرغبون في تحسين مستواهم بسرعة"/>
                                                                <ComboBoxItem Content="🚀 6 أيام في الأسبوع – تمارين مكثفة مع يوم راحة واحد فقط"/>
                                                            </ComboBox>

                                                            <ComboBox x:Name="CBSelectEXCPlace" Style="{DynamicResource MyComboBox}" Margin="0,0,376,0" Width="176" Height="56" FontSize="16" VerticalAlignment="Bottom" HorizontalAlignment="Right" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="🏠 المنزل – تمارين منزلية بدون معدات أو بأدوات بسيطة."/>
                                                                <ComboBoxItem Content="🏋️‍♂️ الجيم (الصالة الرياضية) – تمارين بأجهزة ومعدات متكاملة."/>
                                                                <ComboBoxItem Content="🌳 الهواء الطلق (الحديقة / الشارع) – الجري، تمارين وزن الجسم، وغيرها."/>
                                                                <ComboBoxItem Content="🏊‍♂️ حمام السباحة – تمارين السباحة وتمارين المقاومة المائية."/>
                                                                <ComboBoxItem Content="🏀 الملاعب الرياضية – كرة القدم، السلة، التنس، وغيرها."/>
                                                                <ComboBoxItem Content="🤸‍♂️ مراكز اللياقة البدنية / اليوغا – تمارين مرونة واسترخاء."/>
                                                            </ComboBox>
                                                            <Label Width="176" Content="وقت التمرين" Margin="376,32,0,55" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>
                                                            <Label Width="176" Content="ايام التمارين في الأسبوع" Margin="188,32,188,55" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>
                                                            <Label Width="176" Content="مكان التمرين" Margin="0,31,376,56" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>

                                                        </Grid>

                                                        <Grid Margin="0,333,0,22">

                                                            <Border Background="White" Width="    372" Height="56" CornerRadius="28" BorderBrush="#FFC9C9C9" BorderThickness="1" Padding="30,0,0,0" Margin="-1,65,181,0" >
                                                                <Grid>
                                                                    <TextBox  x:Name="TBTypeFavoriteEXC" IsReadOnly="True"  TextWrapping="Wrap" Text="اختياري" VerticalAlignment="Center" Height="45" BorderThickness="0,0,0,0" VerticalContentAlignment="Center" Background="White" Cursor="IBeam" Foreground="Gray" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" Margin="0,0,17,0" FlowDirection="RightToLeft"/>
                                                                </Grid>
                                                            </Border>

                                                            <ComboBox   x:Name="CBSelectPlanType" Style="{DynamicResource MyComboBox}" Width="176" Height="56" FontSize="16" VerticalAlignment="Bottom" HorizontalAlignment="Right" FlowDirection="RightToLeft">
                                                                <ComboBoxItem Content="📆 خطة يومية – تمارين يومية قصيرة ومتنوعة."/>
                                                                <ComboBoxItem Content="🗓️ خطة أسبوعية – توزيع التمارين على أيام الأسبوع."/>
                                                                <ComboBoxItem Content="📅 خطة شهرية – خطة طويلة المدى تعتمد على التطور المستمر."/>
                                                            </ComboBox>
                                                            <Label Width="176" Content="نوع الخطة" Margin="376,35,0,56" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>
                                                            <Label Width="176" Content="التمارين المفضلة" Margin="188,35,188,56" FlowDirection="RightToLeft" FontSize="14">
                                                                <Label.Foreground>
                                                                    <SolidColorBrush Color="Black" Opacity="0.5"/>
                                                                </Label.Foreground>
                                                            </Label>

                                                        </Grid>


                                                    </Grid>

                                                </Grid>


                                                <Border  x:Name="btnMakeThePlanPopupWindown" CornerRadius="28" Background="#4A7AB0" Padding="20,16,10,16" Cursor="Hand"  Margin="0,633,0,30" HorizontalAlignment="Center" Width="552" Height="53" MouseDown="btnMakeThePlanPopupWindown_MouseDown">

                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                        <Image x:Name="AiIcon1" Source="/Assets/Images/StarsMinimalistic3.png" Width="24" Height="24" Margin="0,0,0,0" />
                                                        <TextBlock x:Name="AiText1" Text="إنشاء خطة مع AI" FontSize="16" FontWeight="SemiBold" Foreground="White" Margin="8,0,0,0" FlowDirection="RightToLeft"/>
                                                    </StackPanel>

                                                </Border>
                                            </Grid>
                                        </Border>

                                    </Popup>

                                </Grid>
                            </TabItem>

                        </TabControl>



                        <Popup   x:Name="UserPopupScreen" Placement="Center" AllowsTransparency="True" PopupAnimation="Slide">

                            <Grid>
                                <Border x:Name="draggableBorder" Background="White" CornerRadius="32" BorderThickness="1" Height="722" Width="518" MouseLeftButtonDown="draggableBorder_MouseLeftButtonDown"  MouseMove="draggableBorder_MouseMove"  MouseLeftButtonUp="draggableBorder_MouseLeftButtonUp" Margin="0,0,294,0" VerticalAlignment="Center" HorizontalAlignment="Right" BorderBrush="Black">
                                    <Grid HorizontalAlignment="Left" Width="518">

                                        <Border Background="White" CornerRadius="28" BorderBrush="#FFC9C9C9" BorderThickness="1" Padding="30,0,0,0" Margin="0,0,0,428" HorizontalAlignment="Center" Width="398" Height="64" VerticalAlignment="Bottom" >
                                            <Grid>
                                                <TextBox  x:Name="TBUserName"  TextWrapping="Wrap" Text="Ahmed Mohammed" VerticalAlignment="Center" Height="45" BorderThickness="0,0,0,0" VerticalContentAlignment="Center" Background="White" Cursor="IBeam" Foreground="Black"  Margin="0,0,17,0"/>
                                            </Grid>
                                        </Border>

                                        <Label Width="176" Content="الاسم" Margin="0,0,60,497" FlowDirection="RightToLeft" FontSize="14" HorizontalAlignment="Right" Height="36" VerticalAlignment="Bottom">
                                            <Label.Foreground>
                                                <SolidColorBrush Color="Black" Opacity="0.5"/>
                                            </Label.Foreground>
                                        </Label>


                                        <Border  x:Name="btnSaveTheNewUserInfo" CornerRadius="28" Background="#4A7AB0" Padding ="20,16,10,16" Cursor="Hand"  Margin="0,0,0,34" HorizontalAlignment="Center" Width="398" MouseDown="btnSaveTheNewUserInfo_MouseDown" Height="56" VerticalAlignment="Bottom">

                                            <TextBlock  Text="احفظ" FontSize="16" FontWeight="SemiBold" Foreground="White" Margin="162,0,0,0" FlowDirection="RightToLeft" HorizontalAlignment="Left" />

                                        </Border>

                                        <Ellipse Height="140" VerticalAlignment="Bottom"  HorizontalAlignment="Center" Width="140" Margin="0,0,0,550" Fill="Black">

                                        </Ellipse>
                                        <Label Width="176" Content="العمر" Margin="0,0,60,359" FlowDirection="RightToLeft" FontSize="14" HorizontalAlignment="Right" Height="36" VerticalAlignment="Bottom">
                                            <Label.Foreground>
                                                <SolidColorBrush Color="Black" Opacity="0.5"/>
                                            </Label.Foreground>
                                        </Label>
                                        <Border Background="White" Width="398" Height="64" CornerRadius="28" BorderBrush="#FFC9C9C9" BorderThickness="1" Padding="30,0,0,0" Margin="0,0,0,295" VerticalAlignment="Bottom" HorizontalAlignment="Center" >
                                            <Grid>
                                                <TextBox  x:Name="TBUserAge"   TextWrapping="Wrap" Text="18" VerticalAlignment="Center" Height="45" BorderThickness="0,0,0,0" VerticalContentAlignment="Center" Background="White" Cursor="IBeam" Foreground="Black"  Margin="0,0,17,0"/>
                                            </Grid>
                                        </Border>
                                        <Label Width="176" Content="الايميل" Margin="0,0,60,221" FlowDirection="RightToLeft" FontSize="14" Height="36" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                                            <Label.Foreground>
                                                <SolidColorBrush Color="Black" Opacity="0.5"/>
                                            </Label.Foreground>
                                        </Label>
                                        <Border Background="White" Width="398" Height="64" CornerRadius="28" BorderBrush="#FFC9C9C9" BorderThickness="1" Padding="30,0,0,0" Margin="0,0,0,152" VerticalAlignment="Bottom" HorizontalAlignment="Center" >
                                            <Grid>
                                                <TextBox  x:Name="TBUserEmail"   TextWrapping="Wrap" Text="afhamtemda295@gmail.com" VerticalAlignment="Center" Height="45" BorderThickness="0,0,0,0" VerticalContentAlignment="Center" Background="White" Cursor="IBeam" Foreground="Black"  Margin="0,0,17,0"/>
                                            </Grid>
                                        </Border>


                                        <RadioButton x:Name="RBFemale" Style="{DynamicResource MyRadioButton}" Content="انثي" Margin="0,0,141,100" Height="37" FontSize="20" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="77" >
                                            <RadioButton.Foreground>
                                                <SolidColorBrush Color="Black" Opacity="0.6"/>
                                            </RadioButton.Foreground>
                                        </RadioButton>
                                        <RadioButton x:Name="RBmale" Style="{DynamicResource MyRadioButton}" Content="ذكر" Margin="0,0,62,101" Width="67" Height="37" FontSize="20" IsChecked="True" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                                            <RadioButton.Foreground>
                                                <SolidColorBrush Color="Black" Opacity="0.6"/>
                                            </RadioButton.Foreground>
                                        </RadioButton>

                                        <Border   CornerRadius="15" BorderBrush="Black" BorderThickness="0" Height="38" Margin="0,3,22,0" VerticalAlignment="Top" MouseDown="btnCloseUserPopUpScreen_MouseDown" HorizontalAlignment="Right" Width="33" Cursor="Hand">
                                            <Border.Effect>
                                                <DropShadowEffect/>
                                            </Border.Effect>
                                            <TextBlock Text="✕" FontSize="16" Foreground="Red" Height="18" Width="13" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold"/>
                                        </Border>

                                    </Grid>

                                </Border>

                            </Grid>
                        </Popup>



                        <!---->
                    </Grid>

                </Border>
            </Grid>

        </Grid>
    </Border>
</Window>